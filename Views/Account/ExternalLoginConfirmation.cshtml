@model ICARUS.Models.ExternalLoginConfirmationViewModel
@{
    ViewBag.Title = "ExternalLoginConfirmation";
}
@using (Html.BeginForm("ExternalLoginConfirmation", "Account", new {
    ReturnUrl = ViewBag.ReturnUrl
}, FormMethod.Post, new {
    @class = "login",
    role = "form",
    id = "externalLoginConfirmation"
})) {
    <h3>Linking your @ViewBag.LoginProvider account.</h3>
    @Html.AntiForgeryToken()
    @*Html.ValidationSummary(true, "", new { @class = "text-danger" })*@
    <p class="text-info">
        You've successfully authenticated with <strong>@ViewBag.LoginProvider</strong>.<br />
        Please enter a user name for this site below and click the Register button to finish
        logging in.
    </p>
    <div>
        <div style="align-content:">
            @Html.LabelFor(m => m.Email, new { })
            <div>
                @Html.TextBoxFor(m => m.Email, new { @class = "form-control" })
                @Html.ValidationMessageFor(m => m.Email, "", new { @class = "text-danger" })
            </div>
        </div>
        <div>
            <div><input id="btnSubmit" type="submit" class="btn btn-default" value="Register" /></div>
        </div>
    </div>
}
@section viewInit {
    <!--<script src="@Url.Content("~/Scripts/dist/icarus/controller/init.js")" type="module"></script>-->
    @*if (User.Identity.IsAuthenticated) {
            <script type="text/javascript">
                console.log(100, 'You are already logged in.\nRedirecting...');
                setTimeout(() => {
                    location.href = '/';
                }, 1000);
            </script>
        } else {
            <script type="text/javascript">
                console.log(0, 'Confirming...');
            </script>
        }*@
}