{"version":3,"sources":["icarus/controller/CONTAINERFACTORY.js"],"names":["FORMSELECT","OPTION","MENULIST","LI","UL","SPAN","ATTRIBUTES","EL","MODEL","ARTICLE","BANNER","CALLOUT","CHAT","CLASSVIEWER","DICTIONARY","FIELDSET","FORMELEMENTGROUP","FORMINPUT","FORMTEXTAREA","IFRAME","IMAGEGALLERY","INDEX","INDEXMAIN","INDEXTHUMBNAIL","JUMBOTRON","LIST","LISTITEM","MENU","NAVITEM","NAVSEPARATOR","PARAGRAPH","SECTION","TEXTBLOCK","THUMBNAIL","WORD","CONTAINERFACTORY","[object Object]","node","className","id","span","index","children","push","$","getJSON","result","obj","model","el","parentNode","replaceChild","e","destroy","splice","console","log"],"mappings":"OACOA,YAAcC,WAAc,oEAC5BC,UAAYC,GAAIC,OAAU,oDAC1BC,MAAQC,WAAYC,GAAIC,UAAa,kCAErCC,YAAa,wCACbC,WAAY,gDACZC,YAAa,yDACbC,SAAU,4CACVC,gBAAiB,iEACjBC,eAAgB,wDAChBC,aAAc,0CAEdC,qBAAsB,+DACtBC,cAAe,kEACfC,iBAAkB,wEAElBC,WAAY,gDACZC,iBAAkB,mEAClBC,UAAW,qDACXC,cAAe,6DACfC,mBAAoB,iFACpBC,cAAe,sDACfC,SAAU,4CACVC,aAAc,yDACdC,SAAU,sCACVC,YAAa,4CACbC,iBAAkB,iDAClBC,cAAe,sDACfC,YAAa,wCACbC,cAAe,sDACfC,cAAe,6DAEfC,SAAU,oDAOF,MAAMC,iBAiBpBC,IAAIC,EAAMC,EAAWC,GAEpB,IAAIC,EAAO,IAAInC,KAAKgC,EAAM,IAAI7B,OAC1BiC,EAAQJ,EAAKK,SAASC,KAAKH,GAC/B,OAAOI,EAAEC,QAAQ,IAAMP,EAAY,QAAUC,EAAI,SAASO,GACzD,IAAIC,EAAM,KACV,OAAQT,GACP,IAAK,KACJS,EAAM,IAAI5C,GAAGqC,EAAMM,EAAOE,OAC1B,MACD,IAAK,KACJD,EAAM,IAAI3C,GAAGoC,EAAMM,EAAOE,OAC1B,MACD,IAAK,WACJD,EAAM,IAAIrB,SAASc,EAAMM,EAAOE,OAChC,MACD,IAAK,OACJD,EAAM,IAAItB,KAAKe,EAAMM,EAAOE,OAC5B,MACD,IAAK,WACJD,EAAM,IAAI7C,SAASsC,EAAMM,EAAOE,OAChC,MACD,IAAK,OACJD,EAAM,IAAIpB,KAAKa,EAAMM,EAAOE,OAC5B,MACD,IAAK,UACJD,EAAM,IAAInB,QAAQY,EAAMM,EAAOE,OAC/B,MACD,IAAK,eACJD,EAAM,IAAIlB,aAAaW,EAAMM,EAAOE,OACpC,MACD,IAAK,YACJD,EAAM,IAAIf,UAAUQ,EAAMM,EAAOE,OACjC,MACD,IAAK,YACJD,EAAM,IAAIvB,UAAUgB,EAAMM,EAAOE,OACjC,MACD,IAAK,cACJD,EAAM,IAAIlC,YAAY2B,EAAMM,EAAOE,OACnC,MACD,IAAK,QACJD,EAAM,IAAI1B,MAAMmB,EAAMM,EAAOE,OAC7B,MACD,IAAK,YACJD,EAAM,IAAIzB,UAAUkB,EAAMM,EAAOE,OACjC,MACD,IAAK,eACJD,EAAM,IAAI3B,aAAaoB,EAAMM,EAAOE,OACpC,MACD,IAAK,aACJD,EAAM,IAAIjC,WAAW0B,EAAMM,EAAOE,OAClC,MACD,IAAK,YACJD,EAAM,IAAIjB,UAAUU,EAAMM,EAAOE,OACjC,MACD,IAAK,OACJD,EAAM,IAAIb,KAAKM,EAAMM,EAAOE,OAC5B,MACD,IAAK,SACJD,EAAM,IAAIrC,OAAO8B,EAAMM,EAAOE,OAC9B,MACD,IAAK,UACJD,EAAM,IAAIpC,QAAQ6B,EAAMM,EAAOE,OAC/B,MACD,IAAK,YACJD,EAAM,IAAId,UAAUO,EAAMM,EAAOE,OACjC,MACD,IAAK,iBACJD,EAAM,IAAIxB,eAAeiB,EAAMM,EAAOE,OACtC,MACD,IAAK,SACJD,EAAM,IAAI5B,OAAOqB,EAAMM,EAAOE,OAC9B,MACD,IAAK,UACJD,EAAM,IAAItC,QAAQ+B,EAAMM,EAAOE,OAC/B,MACD,IAAK,UACJD,EAAM,IAAIhB,QAAQS,EAAMM,EAAOE,OAC/B,MACD,IAAK,OACJD,EAAM,IAAInC,KAAK4B,EAAMM,EAAOE,OAC5B,MAID,IAAK,WACJD,EAAM,IAAIhC,SAASyB,EAAMM,EAAOE,OAChC,MACD,IAAK,mBACJD,EAAM,IAAI/B,iBAAiBwB,EAAMM,EAAOE,OACxC,MAID,IAAK,YACJD,EAAM,IAAI9B,UAAUuB,EAAMM,EAAOE,OACjC,MACD,IAAK,aACJD,EAAM,IAAI/C,WAAWwC,EAAMM,EAAOE,OAClC,MACD,IAAK,eAEJD,EAAM,IAAI7B,aAAasB,EAAMM,EAAOE,OACpC,MACD,IAAK,SACJD,EAAM,IAAI9C,OAAOuC,EAAMM,EAAOE,OAC9B,MACD,QAECD,EAAM,IAAIxC,GAAGiC,EAAMM,EAAOE,OAG5BX,EAAKK,SAASD,GAASM,EACvB,IACCP,EAAKS,GAAGC,WAAWC,aAAaJ,EAAIE,GAAIT,EAAKS,IAC5C,MAAOG,GAERZ,EAAKa,UACLhB,EAAKK,SAASY,OAAOb,EAAO,GAC5Bc,QAAQC,IAAIJ,GAEb,OAAOf,EAAKK,SAASD,aA4BfnC,WAAYC,GAAIC","file":"CONTAINERFACTORY.js","sourcesContent":["/** @module */\r\nimport FORMSELECT, { OPTION } from '../model/el/container/formelement/formselect/FORMSELECT.js';\r\nimport MENULIST, { LI, UL } from '../model/el/container/menulist/MENULIST.js';\r\nimport SPAN, { ATTRIBUTES, EL, MODEL } from '../model/el/span/SPAN.js';\r\n//import EL, { ATTRIBUTES, MODEL } from '../model/el/EL.js';\r\nimport ARTICLE from '../model/el/article/ARTICLE.js';\r\nimport BANNER from '../model/el/container/banner/BANNER.js';\r\nimport CALLOUT from '../model/el/container/banner/callout/CALLOUT.js';\r\nimport CHAT from '../model/el/container/chat/CHAT.js';\r\nimport CLASSVIEWER from '../model/el/container/banner/classviewer/CLASSVIEWER.js'; // banners are dumb\r\nimport DICTIONARY from '../model/el/container/dictionary/DICTIONARY.js';\r\nimport FIELDSET from '../model/el/fieldset/FIELDSET.js';\r\n//import FORM from '../model/el/container/form/FORM.js';\r\nimport FORMELEMENTGROUP from '../model/el/container/formelement/FORMELEMENTGROUP.js';\r\nimport FORMINPUT from '../model/el/container/formelement/forminput/FORMINPUT.js';\r\nimport FORMTEXTAREA from '../model/el/container/formelement/formtextarea/FORMTEXTAREA.js';\r\n//import FORMPOSTINPUT from '../model/el/container/formelement/formpostinput/FORMPOSTINPUT.js';\r\nimport IFRAME from '../model/el/container/iframe/IFRAME.js';\r\nimport IMAGEGALLERY from '../model/el/container/banner/imagegallery/IMAGEGALLERY.js';\r\nimport INDEX from '../model/el/container/banner/index/INDEX.js';\r\nimport INDEXMAIN from '../model/el/container/banner/indexmain/INDEXMAIN.js';\r\nimport INDEXTHUMBNAIL from '../model/el/container/banner/thumbnail/indexthumbnail/INDEXTHUMBNAIL.js';\r\nimport JUMBOTRON from '../model/el/container/jumbotron/JUMBOTRON.js';\r\nimport LIST from '../model/el/container/list/LIST.js';\r\nimport LISTITEM from '../model/el/container/list/listitem/LISTITEM.js';\r\nimport MENU from '../model/el/nav/menu/MENU.js';\r\nimport NAVITEM from '../model/el/nav/navitem/NAVITEM.js';\r\nimport NAVSEPARATOR from '../model/el/nav/navitem/NAVSEPARATOR.js';\r\nimport PARAGRAPH from '../model/el/container/paragraph/PARAGRAPH.js';\r\nimport SECTION from '../model/el/section/SECTION.js';\r\nimport TEXTBLOCK from '../model/el/container/textblock/TEXTBLOCK.js';\r\nimport THUMBNAIL from '../model/el/container/banner/thumbnail/THUMBNAIL.js';\r\n//import TOKEN from '../model/el/container/formelement/forminput/TOKEN.js';\r\nimport WORD from '../model/el/container/word/WORD.js';\r\n/**\r\n    Constructs various Containers and returns them to be appended\r\n    Each Container child must be imported individually\r\n    to avoid cyclic redundancy of dependencies\r\n    @class\r\n */\r\nexport default class CONTAINERFACTORY {\r\n\t/**\r\n\t    A Container Factory\r\n\t \r\n\tconstructor() {}*/\r\n\t/**\r\n\t    Gets this Container from the database via ajax GET request.\r\n\t    Retrieves object model and returns the container.\r\n\r\n\t    A placeholder object is created to ensure that values are loaded\r\n\t    in the appropriate order, regardless of any delays from getJson()\r\n\r\n\t    @param {MODEL} node Parent node (Generally append to node.body.pane)\r\n\t    @param {string} className Container Constructor Name\r\n\t    @param {number} id Container UId\r\n\t    @returns {CONTAINER} A newly constructed container\r\n\t*/\r\n\tget(node, className, id) {\r\n\t\t//DEBUG.log('CONTAINERFACTORY.get(' + className + ',' + id + ');');\r\n\t\tlet span = new SPAN(node, new MODEL());\r\n\t\tlet index = node.children.push(span); // Reserve the slot in the array        \r\n\t\treturn $.getJSON('/' + className + '/Get/' + id, function(result) {\r\n\t\t\tlet obj = null;\r\n\t\t\tswitch (className) {\r\n\t\t\t\tcase 'LI':\r\n\t\t\t\t\tobj = new LI(span, result.model);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'UL':\r\n\t\t\t\t\tobj = new UL(span, result.model);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'LISTITEM':\r\n\t\t\t\t\tobj = new LISTITEM(span, result.model);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'LIST':\r\n\t\t\t\t\tobj = new LIST(span, result.model);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'MENULIST':\r\n\t\t\t\t\tobj = new MENULIST(span, result.model);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'MENU':\r\n\t\t\t\t\tobj = new MENU(span, result.model);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'NAVITEM':\r\n\t\t\t\t\tobj = new NAVITEM(span, result.model);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'NAVSEPARATOR':\r\n\t\t\t\t\tobj = new NAVSEPARATOR(span, result.model);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'TEXTBLOCK':\r\n\t\t\t\t\tobj = new TEXTBLOCK(span, result.model);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'JUMBOTRON':\r\n\t\t\t\t\tobj = new JUMBOTRON(span, result.model);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'CLASSVIEWER':\r\n\t\t\t\t\tobj = new CLASSVIEWER(span, result.model);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'INDEX':\r\n\t\t\t\t\tobj = new INDEX(span, result.model);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'INDEXMAIN':\r\n\t\t\t\t\tobj = new INDEXMAIN(span, result.model);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'IMAGEGALLERY':\r\n\t\t\t\t\tobj = new IMAGEGALLERY(span, result.model);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'DICTIONARY':\r\n\t\t\t\t\tobj = new DICTIONARY(span, result.model);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'PARAGRAPH':\r\n\t\t\t\t\tobj = new PARAGRAPH(span, result.model);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'WORD':\r\n\t\t\t\t\tobj = new WORD(span, result.model);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'BANNER':\r\n\t\t\t\t\tobj = new BANNER(span, result.model);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'CALLOUT':\r\n\t\t\t\t\tobj = new CALLOUT(span, result.model);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'THUMBNAIL':\r\n\t\t\t\t\tobj = new THUMBNAIL(span, result.model);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'INDEXTHUMBNAIL':\r\n\t\t\t\t\tobj = new INDEXTHUMBNAIL(span, result.model);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'IFRAME':\r\n\t\t\t\t\tobj = new IFRAME(span, result.model);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'ARTICLE':\r\n\t\t\t\t\tobj = new ARTICLE(span, result.model);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'SECTION':\r\n\t\t\t\t\tobj = new SECTION(span, result.model);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'CHAT':\r\n\t\t\t\t\tobj = new CHAT(span, result.model);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t//case 'FORM':\r\n\t\t\t\t\t//\tobj = new FORM(span, result.model);\r\n\t\t\t\t\t//\tbreak;\r\n\t\t\t\tcase 'FIELDSET':\r\n\t\t\t\t\tobj = new FIELDSET(span, result.model);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'FORMELEMENTGROUP':\r\n\t\t\t\t\tobj = new FORMELEMENTGROUP(span, result.model);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t//case 'FORMPOSTINPUT':\r\n\t\t\t\t\t//\tobj = new FORMPOSTINPUT(span, result.model);\r\n\t\t\t\t\t//\tbreak;\r\n\t\t\t\tcase 'FORMINPUT':\r\n\t\t\t\t\tobj = new FORMINPUT(span, result.model);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'FORMSELECT':\r\n\t\t\t\t\tobj = new FORMSELECT(span, result.model);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'FORMTEXTAREA':\r\n\t\t\t\t\t/** @todo THIS NEEDS TO BE CORRECTED ON SERVER */\r\n\t\t\t\t\tobj = new FORMTEXTAREA(span, result.model);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'OPTION':\r\n\t\t\t\t\tobj = new OPTION(span, result.model);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t/** @todo Verify */\r\n\t\t\t\t\tobj = new EL(span, result.model);\r\n\t\t\t}\r\n\t\t\t//obj.factory = this;\r\n\t\t\tnode.children[index] = obj;\r\n\t\t\ttry {\r\n\t\t\t\tspan.el.parentNode.replaceChild(obj.el, span.el);\r\n\t\t\t} catch (e) {\r\n\t\t\t\t/** @todo Should be a method to remove the temporary node */\r\n\t\t\t\tspan.destroy();\r\n\t\t\t\tnode.children.splice(index, 1);\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t\treturn node.children[index];\r\n\t\t});\r\n\t}\r\n\t/**\r\n\t    Creates an empty form with a single fieldset and formelementgroup\r\n\t    @param {EL} node Parent node\r\n\t    @param {boolean} hidden If true, form is hidden\r\n\t    @returns {FORM} An empty form container\r\n\t\r\n\tstatic createEmptyForm(node, hidden = false) {\r\n\t\tconsole.log('Creating empty form');\r\n\t\tlet form = new FORM(node, new MODEL(new ATTRIBUTES({\r\n\t\t\t'style': hidden ? 'display:none;' : ''\r\n\t\t})).set({\r\n\t\t\t'label': 'FORM',\r\n\t\t\t'showHeader': 0\r\n\t\t}));\r\n\t\tform.fieldset = new FIELDSET(form.body.pane, new MODEL().set({\r\n\t\t\t'label': 'FIELDSET',\r\n\t\t\t'showHeader': 0\r\n\t\t}));\r\n\t\tform.fieldset.formElementGroup = new FORMELEMENTGROUP(form.fieldset.body.pane, new MODEL().set({\r\n\t\t\t'label': 'FORMELEMENTGROUP',\r\n\t\t\t'showHeader': 0\r\n\t\t}));\r\n\t\treturn form;\r\n\t}*/\r\n}\r\nexport { ATTRIBUTES, EL, MODEL }; //FORM"]}