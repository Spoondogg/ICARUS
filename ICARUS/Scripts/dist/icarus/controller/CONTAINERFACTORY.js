import FORMSELECT,{OPTION}from"../model/el/container/formelement/formselect/FORMSELECT.js";import MENULIST,{LI,UL}from"../model/el/container/menulist/MENULIST.js";import SPAN,{ATTRIBUTES,EL,MODEL}from"../model/el/span/SPAN.js";import ARTICLE from"../model/el/article/ARTICLE.js";import BANNER from"../model/el/container/banner/BANNER.js";import CALLOUT from"../model/el/container/banner/callout/CALLOUT.js";import CHAT from"../model/el/container/chat/CHAT.js";import CLASSVIEWER from"../model/el/container/banner/classviewer/CLASSVIEWER.js";import DICTIONARY from"../model/el/container/dictionary/DICTIONARY.js";import FIELDSET from"../model/el/fieldset/FIELDSET.js";import FORM from"../model/el/form/FORM.js";import FORMELEMENTGROUP from"../model/el/container/formelement/FORMELEMENTGROUP.js";import FORMINPUT from"../model/el/container/formelement/forminput/FORMINPUT.js";import FORMTEXTAREA from"../model/el/container/formelement/formtextarea/FORMTEXTAREA.js";import IFRAME from"../model/el/container/iframe/IFRAME.js";import IMAGEGALLERY from"../model/el/container/banner/imagegallery/IMAGEGALLERY.js";import INDEX from"../model/el/container/banner/index/INDEX.js";import INDEXMAIN from"../model/el/container/banner/indexmain/INDEXMAIN.js";import INDEXTHUMBNAIL from"../model/el/container/banner/thumbnail/indexthumbnail/INDEXTHUMBNAIL.js";import JUMBOTRON from"../model/el/container/jumbotron/JUMBOTRON.js";import LIST from"../model/el/container/list/LIST.js";import LISTITEM from"../model/el/container/list/listitem/LISTITEM.js";import MENU from"../model/el/nav/menu/MENU.js";import NAVITEM from"../model/el/nav/navitem/NAVITEM.js";import NAVSEPARATOR from"../model/el/nav/navitem/NAVSEPARATOR.js";import PARAGRAPH from"../model/el/container/paragraph/PARAGRAPH.js";import SECTION from"../model/el/section/SECTION.js";import TEXTBLOCK from"../model/el/container/textblock/TEXTBLOCK.js";import THUMBNAIL from"../model/el/container/banner/thumbnail/THUMBNAIL.js";import WORD from"../model/el/container/word/WORD.js";export default class CONTAINERFACTORY{get(e,t,o){let r=new SPAN(e,new MODEL),a=e.children.push(r);return $.getJSON("/"+t+"/Get/"+o,o=>{let l=null;switch(t){case"ARTICLE":l=new ARTICLE(r,o.model);break;case"BANNER":l=new BANNER(r,o.model);break;case"CALLOUT":l=new CALLOUT(r,o.model);break;case"CHAT":l=new CHAT(r,o.model);break;case"CLASSVIEWER":l=new CLASSVIEWER(r,o.model);break;case"DICTIONARY":l=new DICTIONARY(r,o.model);break;case"FORM":l=new FORM(r,o.model);break;case"FIELDSET":l=new FIELDSET(r,o.model);break;case"FORMELEMENTGROUP":l=new FORMELEMENTGROUP(r,o.model);break;case"FORMINPUT":l=new FORMINPUT(r,o.model);break;case"FORMSELECT":l=new FORMSELECT(r,o.model);break;case"FORMTEXTAREA":l=new FORMTEXTAREA(r,o.model);break;case"IFRAME":l=new IFRAME(r,o.model);break;case"IMAGEGALLERY":l=new IMAGEGALLERY(r,o.model);break;case"INDEX":l=new INDEX(r,o.model);break;case"INDEXMAIN":l=new INDEXMAIN(r,o.model);break;case"INDEXTHUMBNAIL":l=new INDEXTHUMBNAIL(r,o.model);break;case"JUMBOTRON":l=new JUMBOTRON(r,o.model);break;case"LI":l=new LI(r,o.model);break;case"LIST":l=new LIST(r,o.model);break;case"LISTITEM":l=new LISTITEM(r,o.model);break;case"MENULIST":l=new MENULIST(r,o.model);break;case"MENU":l=new MENU(r,o.model);break;case"NAVITEM":l=new NAVITEM(r,o.model);break;case"NAVSEPARATOR":l=new NAVSEPARATOR(r,o.model);break;case"OPTION":l=new OPTION(r,o.model);break;case"PARAGRAPH":l=new PARAGRAPH(r,o.model);break;case"SECTION":l=new SECTION(r,o.model);break;case"TEXTBLOCK":l=new TEXTBLOCK(r,o.model);break;case"THUMBNAIL":l=new THUMBNAIL(r,o.model);break;case"UL":l=new UL(r,o.model);break;case"WORD":l=new WORD(r,o.model);break;default:l=new EL(r,o.model)}e.children[a]=l;try{l.save=this.save,r.el.parentNode.replaceChild(l.el,r.el)}catch(t){r.destroy(),e.children.splice(a,1),console.log(t)}return e.children[a]})}save(e,t){let o=FORM.createEmptyForm(e,!1);o.setPostUrl(t.className+"/Set"),o.fieldset.formElementGroup.addInputElements(this.createContainerInputs(o,t)),o.afterSuccessfulPost=(()=>{t.setLabel(o.el.elements.label.value);try{t.getMainContainer().focusBody(),t.getMainContainer().loader.hide()}catch(e){console.log(e)}try{t.getContainer().refresh()}catch(e){t.getMainContainer().refresh()}}),$(e.el).collapse("show")}quickSaveFormPost(e,t){if(e>0){let o=FORM.createEmptyForm(this,!0),r=[];for(let e in t)Reflect.call(t,e)&&r.push(this.createInputModel("INPUT",e,e,this.htmlEncode(t[e])));o.fieldset.formElementGroup.addInputElements(r),o.setPostUrl("FormPost/Set"),o.post(),o.afterSuccessfulPost=(()=>{o.destroy(),console.log("FormPost: "+e+" has been quicksaved")})}}quickSave(e,t=!1){if(t||confirm("Quick Save "+this.className+"("+e.id+") : "+e.label+" ?")){let t=FORM.createEmptyForm(e,!0);return t.fieldset.formElementGroup.addInputElements(this.createContainerInputs(t,e)),t.setPostUrl(e.className+"/Set"),t.post(),t.afterSuccessfulPost=(()=>{e.setLabel(t.el.elements.label.value),t.destroy(),e.quickSaveFormPost(e.dataId,e.data),e.quickSaveFormPost(e.attributesId,e.attributes)}),!0}}createContainerInputs(e,t){let o=t.getSubSections();return[e.createInputModel("INPUT","element","element",t.get("element")),e.createInputModel("INPUT","id","ID",t.get("id").toString()).set({id:0}),e.createInputModel("INPUT","label","Label","object"==typeof t.get("label")?t.get("label").el.innerHTML.toString():t.get("label").toString()),e.createInputModel("INPUT","subsections","SubSections",o.length>0?o.toString():"0"),e.createInputModel("INPUT","status","Status",t.get("status").toString(),"NUMBER"),e.createInputModel("BUTTON","dataId","dataId",t.get("dataId").toString(),"FORMPOSTINPUT"),e.createInputModel("BUTTON","attributesId","attributesId",t.get("attributesId").toString(),"FORMPOSTINPUT"),e.createInputModel("BUTTON","descriptionId","descriptionId",t.get("descriptionId").toString(),"FORMPOSTINPUT"),e.createInputModel("BUTTON","shared","shared",t.get("shared").toString(),"NUMBER")]}}export{ATTRIBUTES,EL,MODEL};
//# sourceMappingURL=CONTAINERFACTORY.js.map
