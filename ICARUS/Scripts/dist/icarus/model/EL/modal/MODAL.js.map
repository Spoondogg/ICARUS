{"version":3,"sources":["model/EL/modal/MODAL.js"],"names":["CONTAINER","ATTRIBUTES","EL","FOOTER","HEADER","MODEL","BUTTON","DIV","WELL","MODAL","[object Object]","title","text","vertical","super","document","body","class","role","this","alignHelper","parentEl","dialog","content","header","createModalHeader","well","footer","btnClose","data-dismiss","aria-hidden","el","onclick","hide","main","bind","$","on","addClass","removeClass","remove","scrollTop","modal","delay","destroy","setTimeout","animate","opacity","e","console","log","innerHTML","warn"],"mappings":"OACOA,WAAaC,WAAYC,GAAIC,OAAQC,OAAQC,UAAa,mCAC1DC,WAAY,6BACZC,QAAS,uBACTC,SAAU,8BAOF,MAAMC,cAAcT,UAOlCU,YAAYC,EAAOC,EAAMC,GACxBC,MAAMC,SAASC,KAAM,IAAIX,MAAM,IAAIJ,WAAW,CAC7CgB,MAAS,gBACTC,KAAQ,aAELL,IACHM,KAAKC,YAAc,IAAIb,IAAIY,KAAM,IAAId,MAAM,+BAG5C,IAAIgB,EAAWR,EAAWM,KAAKC,YAAcD,KAC7CA,KAAKG,OAAS,IAAIf,IAAIc,EAAU,IAAIhB,MAAkC,2BACtEc,KAAKI,QAAU,IAAIhB,IAAIY,KAAKG,OAAQ,IAAIjB,MAAM,kBAC9Cc,KAAKK,OAASL,KAAKM,kBAAkBd,GACjCC,IACHO,KAAKO,KAAO,IAAIlB,KAAKW,KAAKI,QAAS,IAAIlB,MAASO,IAGjDO,KAAKH,KAAO,IAAIT,IAAIY,KAAKI,QAAS,IAAIlB,MAAM,IAAIJ,WAAW,gBAE3DkB,KAAKQ,OAAS,IAAIxB,OAAOgB,KAAKI,QAAS,IAAIlB,MAAM,iBACjDc,KAAKQ,OAAOC,SAAW,IAAItB,OAAOa,KAAKQ,OAAQ,IAAItB,MAAM,IAAIJ,WAAW,CACvEgB,MAAS,4BACTY,eAAgB,QAChBC,cAAe,UACX,SACLX,KAAKQ,OAAOC,SAASG,GAAGC,QAAU,MACjCb,KAAKc,KAAK,KAAM,KAOlBvB,kBAAkBC,GACjB,IAAIa,EAAS,IAAIjB,IAAIY,KAAKI,QAAS,IAAIlB,MAAM,iBAS7C,OARAmB,EAAOI,SAAW,IAAItB,OAAOkB,EAAQ,IAAInB,MAAM,IAAIJ,WAAW,CAC7DgB,MAAS,QACTY,eAAgB,QAChBC,cAAe,UACX,KACLN,EAAOU,KAAO,IAAI9B,OAAOoB,EAAQ,IAAInB,MAAM,gBAC3CmB,EAAOZ,KAAO,IAAIL,IAAIiB,EAAOU,KAAM,IAAI7B,MAASM,GAChDa,EAAOI,SAASG,GAAGC,QAAUb,KAAKc,KAAKE,KAAKhB,MACrCK,EAKRd,oBACC0B,EAAEjB,KAAKY,IAAIM,GAAG,gBAAiB,KAC9BD,EAAE,wBAAwBE,SAAS,WAAWC,YAAY,YAE3DH,EAAEjB,KAAKY,IAAIM,GAAG,gBAAiB,KAC9BD,EAAE,wBAAwBE,SAAS,UAAUE,OAAO,aAMtD9B,WACCS,KAAKY,GAAGU,UAAY,EAKrB/B,OAEC,OADA0B,EAAEjB,KAAKY,IAAIW,MAAM,QACVvB,KAORT,KAAKiC,EAAQ,IAAMC,GAAU,GAC5B,IACCC,WAAW,KACVT,EAAEjB,KAAKY,IAAIW,MAAM,QACjBN,EAAE,mBAAmBU,QAAQ,CAAEC,QAAS,UAAY,GAAGP,SACnDI,GACHzB,KAAKyB,QAAQD,IAEZA,GACF,MAAOK,GACRC,QAAQC,IAAIF,IAOdtC,QAAQE,GACHA,IACHO,KAAKO,KAAKK,GAAGoB,UAAYvC,GAM3BF,eAEC,OADAuC,QAAQG,KAAK,4IACN,aAGAnD,WAAYK,OAAQC,IAAKL,GAAIO,MAAOJ","file":"MODAL.js","sourcesContent":["/** @module */\r\nimport CONTAINER, { ATTRIBUTES, EL, FOOTER, HEADER, MODEL } from '../container/CONTAINER.js';\r\nimport BUTTON from '../button/BUTTON.js';\r\nimport DIV from '../div/DIV.js';\r\nimport WELL from '../p/WELL.js';\r\n/** A Bootstrap 3 Modal\r\n    @see https://www.w3schools.com/bootstrap/bootstrap_modal.asp    \r\n    @todo Integreate DIALOG wherever possible\r\n    @class\r\n    @extends DIV\r\n*/\r\nexport default class MODAL extends CONTAINER {\r\n\t/** Constructs a Modal\r\n\t\t@param {string} title The header text for this modal\r\n\t\t@param {string} text The html text that is displayed in the prompt's well\r\n\t\t@param {boolean} vertical If true, modal is vertically aligned\r\n\t    @todo There should not be any extentions of CONTAINER.  It is abstract\r\n\t*/\r\n\tconstructor(title, text, vertical) {\r\n\t\tsuper(document.body, new MODEL(new ATTRIBUTES({\r\n\t\t\t'class': 'modal fade in',\r\n\t\t\t'role': 'dialog'\r\n\t\t})));\r\n\t\tif (vertical) { // Vertical alignment helper div where required\r\n\t\t\tthis.alignHelper = new DIV(this, new MODEL('vertical-alignment-helper'));\r\n\t\t}\r\n\t\t// Dialog inside vertical align helper if set to vertical align\r\n\t\tlet parentEl = vertical ? this.alignHelper : this;\r\n\t\tthis.dialog = new DIV(parentEl, new MODEL('modal-dialog' + vertical ? ' vertical-align-center' : ''));\r\n\t\tthis.content = new DIV(this.dialog, new MODEL('modal-content'));\r\n\t\tthis.header = this.createModalHeader(title);\r\n\t\tif (text) {\r\n\t\t\tthis.well = new WELL(this.content, new MODEL(), text);\r\n\t\t}\r\n\t\t//this.container = new CONTAINER(this.content, 'DIV', new MODEL(new ATTRIBUTES('modal-body')).set({\r\n\t\tthis.body = new DIV(this.content, new MODEL(new ATTRIBUTES('modal-body')));\r\n\t\t// Footer : Contains options to save or cancel out of form\r\n\t\tthis.footer = new FOOTER(this.content, new MODEL('modal-footer'));\r\n\t\tthis.footer.btnClose = new BUTTON(this.footer, new MODEL(new ATTRIBUTES({\r\n\t\t\t'class': 'btn btn-default btn-block',\r\n\t\t\t'data-dismiss': 'modal',\r\n\t\t\t'aria-hidden': 'true'\r\n\t\t})), 'Close');\r\n\t\tthis.footer.btnClose.el.onclick = () => {\r\n\t\t\tthis.hide(1000, true);\r\n\t\t};\r\n\t}\r\n\t/** Creates a generic Modal header with close button\r\n\t    @param {string} title The Header Title Text\r\n\t    @returns {DIV} A generic Modal Header\r\n\t*/\r\n\tcreateModalHeader(title) {\r\n\t\tlet header = new DIV(this.content, new MODEL('modal-header'));\r\n\t\theader.btnClose = new BUTTON(header, new MODEL(new ATTRIBUTES({\r\n\t\t\t'class': 'close',\r\n\t\t\t'data-dismiss': 'modal',\r\n\t\t\t'aria-hidden': 'true'\r\n\t\t})), 'x');\r\n\t\theader.main = new HEADER(header, new MODEL('modal-title'));\r\n\t\theader.text = new DIV(header.main, new MODEL(), title);\r\n\t\theader.btnClose.el.onclick = this.hide.bind(this);\r\n\t\treturn header;\r\n\t}\r\n\t/** Set Global Modal animation for show/hide\r\n\t    @returns {void}\r\n\t*/\r\n\tsetModalAnimation() {\r\n\t\t$(this.el).on('show.bs.modal', () => {\r\n\t\t\t$('.modal .modal-dialog').addClass('fadeOut').removeClass('fadeIn');\r\n\t\t});\r\n\t\t$(this.el).on('hide.bs.modal', () => {\r\n\t\t\t$('.modal .modal-dialog').addClass('fadeIn').remove('fadeOut');\r\n\t\t});\r\n\t}\r\n\t/** Scrolls to top\r\n\t    @returns {void}\r\n\t*/\r\n\tscrollUp() {\r\n\t\tthis.el.scrollTop = 0;\r\n\t}\r\n\t/** Reveal the modal\r\n\t    @returns {ThisType} Returns MODAL for method chaining\r\n\t*/\r\n\tshow() {\r\n\t\t$(this.el).modal('show');\r\n\t\treturn this;\r\n\t}\r\n\t/** Hide the modal // and remove from DOM\r\n\t\t@param {number} delay Millisecond delay\r\n\t\t@param {boolean} destroy If true, this modal is destroyed\r\n\t    @returns {void}\r\n\t*/\r\n\thide(delay = 1000, destroy = false) {\r\n\t\ttry {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\t$(this.el).modal('hide');\r\n\t\t\t\t$('.modal-backdrop').animate({ opacity: 'toggle' }, 0).remove();\r\n\t\t\t\tif (destroy) {\r\n\t\t\t\t\tthis.destroy(delay);\r\n\t\t\t\t}\r\n\t\t\t}, delay);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t}\r\n\t}\r\n\t/** Sets the text to prompt well\r\n\t\t@param {string} text The text contained within the prompt's well\r\n\t    @returns {void}\r\n\t*/\r\n\tsetText(text) {\r\n\t\tif (text) {\r\n\t\t\tthis.well.el.innerHTML = text;\r\n\t\t}\r\n\t}\r\n\t/** Modals can not return a Container. \r\n\t    @returns {null} A modal can not return a Container\r\n\t*/\r\n\tgetContainer() {\r\n\t\tconsole.warn('You are attempting to get the Container of a modal, however a Modal does not have a parent Container because it belongs to document.body');\r\n\t\treturn null;\r\n\t}\r\n}\r\nexport { ATTRIBUTES, BUTTON, DIV, EL, MODAL, MODEL };"]}