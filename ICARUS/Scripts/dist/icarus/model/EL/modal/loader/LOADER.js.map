{"version":3,"sources":["model/EL/modal/loader/LOADER.js"],"names":["DIALOG","ATTRIBUTES","DIV","MODEL","CONSOLE","PROGRESSBAR","LOADER","[object Object]","value","label","text","super","set","this","addClass","el","setAttribute","progress","body","progressBar","console","class","aria-expanded","onclick","$","collapse","well","insertBefore","log","show","style","width","txt","substr","setInnerHTML","addEntry","hide"],"mappings":"OAGOA,QAAUC,WAAYC,IAAKC,UAAa,gCACxCC,YAAa,qCACbC,gBAAiB,kCAMT,MAAMC,eAAeN,OAOnCO,YAAYC,EAAQ,EAAGC,EAAQ,GAAIC,EAAO,IACzCC,OAAM,IAAIR,OAAQS,IAAI,CACrBJ,MAAAA,EACAC,MAAAA,EACAC,KAAAA,KAEDG,KAAKC,SAAS,uBACdD,KAAKE,GAAGC,aAAa,OAAQ,UAC7BH,KAAKI,SAAW,IAAIf,IAAIW,KAAKK,KAAM,IAAIf,MAAM,IAAIF,WAAW,cAC5DY,KAAKM,YAAc,IAAId,YAAYQ,KAAKI,SAAU,IAAId,OACtDU,KAAKO,QAAU,IAAIhB,QAAQS,KAAKK,KAAM,IAAIf,MAAM,IAAIF,WAAW,CAC9DoB,MAAS,sBACTC,iBAAiB,MAElBT,KAAKM,YAAYJ,GAAGQ,QAAU,MAC7BC,EAAEX,KAAKO,QAAQL,IAAIU,SAAS,YAEzBZ,KAAKa,OACRF,EAAEX,KAAKI,SAASF,IAAIY,aAAad,KAAKa,KAAKX,IAC3CS,EAAEX,KAAKO,QAAQL,IAAIY,aAAad,KAAKa,KAAKX,KAE3CF,KAAKe,IAAIpB,GASVD,IAAIC,EAAOE,EAAMmB,GAAO,GACvB,GAAIhB,KAAKE,GAAI,CAGZ,GAFAF,KAAKM,YAAYJ,GAAGe,MAAMC,MAAQvB,EAAQ,IAC1CK,KAAKM,YAAYJ,GAAGC,aAAa,gBAAiBR,GAC9CE,EAAM,CACT,IAAIsB,EAAMtB,EAAKuB,OAAO,EAAG,IAAM,MAC/BpB,KAAKM,YAAYe,aAAaF,GAC9BnB,KAAKO,QAAQe,SAASzB,GACtBU,QAAQQ,IAAIlB,GAETmB,IACHhB,KAAKgB,OACS,MAAVrB,GACHK,KAAKuB,KAAK,YAIZhB,QAAQQ,IAAI,yBAOdrB,cACCiB,EAAEX,KAAKO,QAAQL,IAAIU,SAAS,QAM7BlB,cACCiB,EAAEX,KAAKO,QAAQL,IAAIU,SAAS","file":"LOADER.js","sourcesContent":["/**\r\n    @module\r\n*/\r\nimport DIALOG, { ATTRIBUTES, DIV, MODEL } from '../../dialog/DIALOG.js';\r\nimport CONSOLE from '../../ul/console/CONSOLE.js';\r\nimport PROGRESSBAR from './PROGRESSBAR.js';\r\n/**\r\n    A Loader type modal.\r\n    @class\r\n    @extends DIALOG\r\n*/\r\nexport default class LOADER extends DIALOG {\r\n\t/**\r\n        Constructs a dialog that displays loading details\r\n        @param {number} value Percentage complete (integer)\r\n        @param {string} label The header text for this modal\t    \r\n        @param {string} text Text that appears in modal's well\r\n    */\r\n\tconstructor(value = 0, label = '', text = '') {\r\n\t\tsuper(new MODEL().set({\r\n\t\t\tvalue,\r\n\t\t\tlabel,\r\n\t\t\ttext\r\n\t\t}));\r\n\t\tthis.addClass('modal-loader loader');\r\n\t\tthis.el.setAttribute('name', 'LOADER');\r\n\t\tthis.progress = new DIV(this.body, new MODEL(new ATTRIBUTES('progress')));\r\n\t\tthis.progressBar = new PROGRESSBAR(this.progress, new MODEL());\r\n\t\tthis.console = new CONSOLE(this.body, new MODEL(new ATTRIBUTES({\r\n\t\t\t'class': 'console collapse in',\r\n\t\t\t'aria-expanded': false\r\n\t\t})));\r\n\t\tthis.progressBar.el.onclick = () => {\r\n\t\t\t$(this.console.el).collapse('toggle');\r\n\t\t};\r\n\t\tif (this.well) {\r\n\t\t\t$(this.progress.el).insertBefore(this.well.el);\r\n\t\t\t$(this.console.el).insertBefore(this.well.el);\r\n\t\t}\r\n\t\tthis.log(value);\r\n\t}\r\n\t/**\r\n\t\t    Sets the progress bar status\r\n\t\t    @param {number} value Percentage as integer (ie: 50 means 50%).\r\n\t\t    @param {string} text Text displayed inside progress bar.  \r\n\t        @param {boolean} show If true, the log will be displayed\r\n\t        @returns {void}\r\n\t\t*/\r\n\tlog(value, text, show = false) {\r\n\t\tif (this.el) {\r\n\t\t\tthis.progressBar.el.style.width = value + '%';\r\n\t\t\tthis.progressBar.el.setAttribute('aria-valuenow', value);\r\n\t\t\tif (text) {\r\n\t\t\t\tlet txt = text.substr(0, 32) + '...';\r\n\t\t\t\tthis.progressBar.setInnerHTML(txt);\r\n\t\t\t\tthis.console.addEntry(text);\r\n\t\t\t\tconsole.log(text);\r\n\t\t\t}\r\n\t\t\tif (show) {\r\n\t\t\t\tthis.show();\r\n\t\t\t\tif (value === 100) {\r\n\t\t\t\t\tthis.hide(1500);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconsole.log('Unable to find loader');\r\n\t\t}\r\n\t}\r\n\t/**\r\n        Shows the Loader Console\r\n        @returns {void}\r\n    */\r\n\tshowConsole() {\r\n\t\t$(this.console.el).collapse('show');\r\n\t}\r\n\t/**\r\n        Hides the Loader Console\r\n        @returns {void}\r\n    */\r\n\thideConsole() {\r\n\t\t$(this.console.el).collapse('hide');\r\n\t}\r\n}"]}