import MODAL,{ATTRIBUTES,DIV,MODEL}from"../MODAL.js";import CONSOLE from"../../ul/console/CONSOLE.js";import PROGRESSBAR from"./PROGRESSBAR.js";export default class LOADER extends MODAL{constructor(s=0,e="",o=""){super(e,o,!0),this.addClass("modal-loader"),this.el.setAttribute("name","LOADER"),this.dialog.addClass("loader"),this.progress=new DIV(this.container.body.pane,new MODEL(new ATTRIBUTES("progress"))),this.progressBar=new PROGRESSBAR(this.progress,new MODEL),this.console=new CONSOLE(this.container.body.pane,new MODEL(new ATTRIBUTES({class:"console collapse in","aria-expanded":!1}))),this.progressBar.el.onclick=(()=>{$(this.console.el).collapse("toggle")}),this.well&&($(this.progress.el).insertBefore(this.well.el),$(this.console.el).insertBefore(this.well.el)),this.log(s)}log(s,e,o=!1){if(this.el){if(this.progressBar.el.style.width=s+"%",this.progressBar.el.setAttribute("aria-valuenow",s),e){let s=e.substr(0,32)+"...";this.progressBar.setInnerHTML(s),this.console.addEntry(e),console.log(e)}o&&(this.show(),100===s&&this.hide(1500))}else console.log("Unable to find loader")}showConsole(){$(this.console.el).collapse("show")}hideConsole(){$(this.console.el).collapse("hide")}}
//# sourceMappingURL=LOADER.js.map
