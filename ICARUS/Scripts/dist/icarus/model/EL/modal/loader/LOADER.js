import DIALOG,{ATTRIBUTES,DIV,MODEL}from"../../dialog/DIALOG.js";import CONSOLE from"../../ul/console/CONSOLE.js";import PROGRESSBAR from"./PROGRESSBAR.js";export default class LOADER extends DIALOG{constructor(e=0,s="",o=""){super((new MODEL).set({value:e,label:s,text:o})),this.addClass("modal-loader loader"),this.el.setAttribute("name","LOADER"),this.progress=new DIV(this.body,new MODEL(new ATTRIBUTES("progress"))),this.progressBar=new PROGRESSBAR(this.progress,new MODEL),this.console=new CONSOLE(this.body,new MODEL(new ATTRIBUTES({class:"console collapse in","aria-expanded":!1}))),this.progressBar.el.onclick=(()=>{$(this.console.el).collapse("toggle")}),this.well&&($(this.progress.el).insertBefore(this.well.el),$(this.console.el).insertBefore(this.well.el)),this.log(e)}log(e,s,o=!1){if(this.el){if(this.progressBar.el.style.width=e+"%",this.progressBar.el.setAttribute("aria-valuenow",e),s){let e=s.substr(0,32)+"...";this.progressBar.setInnerHTML(e),this.console.addEntry(s),console.log(s)}o&&(this.show(),100===e&&this.hide(1500))}else console.log("Unable to find loader")}showConsole(){$(this.console.el).collapse("show")}hideConsole(){$(this.console.el).collapse("hide")}}
//# sourceMappingURL=LOADER.js.map
