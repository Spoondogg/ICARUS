{"version":3,"sources":["model/EL/form/FORMPOST.js"],"names":["FORMPOST","[object Object]","form","this","id","formId","label","el","getAttribute","results","getResultsAsArray","message","obj","forEach","item","name","value","push","e","console","warn"],"mappings":"eAIe,MAAMA,SAIpBC,YAAYC,GACXC,KAAKC,GAAKF,EAAKE,GACfD,KAAKE,OAASH,EAAKE,GACnBD,KAAKG,MAAQJ,EAAKK,GAAGC,aAAa,QAC5BL,KAAKM,QAAUP,EAAKQ,oBAC1BP,KAAKQ,QAAU,GAKhBV,qBACC,IAAIW,EAAM,GACV,IACCT,KAAKM,QAAQI,QAASC,SACS,IAAnBF,EAAIE,EAAKC,MACnBH,EAAIE,EAAKC,MAAQD,EAAKE,OAAS,IAE1BJ,EAAIE,EAAKC,MAAME,OACnBL,EAAIE,EAAKC,MAAQ,CAACH,EAAIE,EAAKC,QAE5BH,EAAIE,EAAKC,MAAME,KAAKH,EAAKE,OAAS,OAGnC,MAAOE,GACRC,QAAQC,KAAK,0CAA2CF,GAEzD,OAAON","file":"FORMPOST.js","sourcesContent":["/** @module */\r\n/** Represents a standardized data object that can be POSTed and validated\r\n    @class    \r\n*/\r\nexport default class FORMPOST {\r\n\t/** Constructs a FORMPOST for the given form\r\n\t    @param {FORM} form The form that generated this FORMPOST\r\n    */\r\n\tconstructor(form) {\r\n\t\tthis.id = form.id;\r\n\t\tthis.formId = form.id;\r\n\t\tthis.label = form.el.getAttribute('name');\r\n        this.results = form.getResultsAsArray(); // An ordered array of key/value pairs as they appear in the FORM\r\n\t\tthis.message = '';\r\n\t}\r\n\t/** Serialize the form into a JSON object key/value\r\n\t    @returns {object} Form Results as an Object\r\n\t*/\r\n\tgetResultsAsObject() {\r\n\t\tlet obj = {};\r\n\t\ttry {\r\n\t\t\tthis.results.forEach((item) => { //index\r\n\t\t\t\tif (typeof obj[item.name] === 'undefined') { // New\r\n\t\t\t\t\tobj[item.name] = item.value || '';\r\n\t\t\t\t} else { // Existing\r\n\t\t\t\t\tif (!obj[item.name].push) {\r\n\t\t\t\t\t\tobj[item.name] = [obj[item.name]];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tobj[item.name].push(item.value || '');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\t\t\tconsole.warn('Unable to parse FormPost into an object', e);\r\n\t\t}\r\n\t\treturn obj;\r\n\t}\r\n}"]}