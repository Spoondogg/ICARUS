{"version":3,"sources":["model/EL/EL.js"],"names":["MODEL","ATTRIBUTES","HtmlElement","MissingContainerError","RecursionLimitError","STATUS","EL","[object Object]","node","element","model","innerHTML","children","super","attributes","this","setContainer","className","constructor","name","DEFAULT","status","factory","callbacks","make","document","body","el","appendChild","createElement","merge","setInnerHTML","e","value","attempt","depth","Reflect","getPrototypeOf","toString","getProtoTypeByClass","console","log","container","getMainContainer","warn","footer","stickyFooter","addClass","LOCKED","editor","onkeyup","bind","onblur","getContainer","data","toLowerCase","destroy","removeClass","quickSave","hide","focus","show","event","stopPropagation","ee","getDev","ondblclick","edit","result","forEach","fn","push","prop","processAttributes","attr","setAttribute","OPEN","open","CLOSED","firstChild","removeChild","delay","setTimeout","parentNode","i","indexOf","splice","class","$","prevClass","set","get","replace","style","display","toggleClass","toggle","c","length","create","speed","parseInt","offset","top","animate","scrollTop"],"mappings":"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","file":"EL.js","sourcesContent":["/**\r\n    @module\r\n*/\r\nimport MODEL, { ATTRIBUTES } from '../MODEL.js';\r\nimport { HtmlElement } from '../../enums/HtmlElement.js';\r\nimport MissingContainerError from '../../error/MissingContainerError.js';\r\nimport RecursionLimitError from '../../error/RecursionLimitError.js';\r\nimport { STATUS } from '../../enums/STATUS.js';\r\n/**\r\n    Generic Element Constructor  \r\n    @description An abstract html element class\r\n    @class\r\n    @extends MODEL\r\n*/\r\nexport default class EL extends MODEL {\r\n\t/**\r\n\t    Constructs a generic html element\r\n\t    @param {EL} node The object to contain this element\r\n\t    @param {string} element The HTML tag that is used for this element\r\n\t    @param {MODEL} model A set of key/value pairs for this element's model\r\n\t    @param {string} innerHTML This text will be displayed within the HTML element\r\n\t    @param {array} children An object array of child models\r\n\t*/\r\n\tconstructor(node, element = 'DIV', model, innerHTML, children) {\r\n\t\tsuper(model.attributes);\r\n\t\tthis.setContainer();\r\n\t\tthis.node = node; // The parent EL (or Body) that this ELEMENT is within        \r\n\t\tthis.className = this.constructor.name;\r\n\t\tthis.element = element || HtmlElement.DEFAULT; // Html Element that this EL represents\r\n\t\tthis.status = STATUS.DEFAULT; // Element state changes depend on this.status \r\n\t\tthis.factory = null;\r\n\t\tthis.children = children ? children : []; // Contains an array of child element models\r\n\t\tthis.callbacks = {}; // Contains a series of Constructor functions that this element can use\r\n\t\tthis.make(node, model, innerHTML);\r\n\t\t//this.merge(model);\r\n\t\t//this.setInnerHTML(innerHTML);\r\n\t}\r\n\t/**\r\n\t    Create the HTML element in the DOM, appended to the given node\r\n\t    @description Append the element to its parent and set its inner HTML (when available)\r\n\t    @param {EL} node Parent node to append to\r\n\t    @param {MODEL} model A set of key/value pairs for this element's model\r\n\t    @param {string} innerHTML This text will be displayed within the HTML element\r\n\t    @returns {EL} This element\r\n\t */\r\n\tmake(node, model, innerHTML) {\r\n\t\ttry {\r\n\t\t\tif (node === document.body) {\r\n\t\t\t\tthis.el = node.appendChild(document.createElement(this.element));\r\n\t\t\t} else {\r\n\t\t\t\tthis.el = node.el.appendChild(document.createElement(this.element));\r\n\t\t\t}\r\n\t\t\tthis.merge(model);\r\n\t\t\tthis.setInnerHTML(innerHTML);\r\n\t\t} catch (e) {\r\n\t\t\t//if (e.name !== 'TypeError') {\r\n\t\t\tthrow e;\r\n\t\t\t//} \r\n\t\t}\r\n\t\treturn this.el;\r\n\t}\r\n\t/**\r\n\t\t    Retrieve an {@link EL} based on its __proto__\r\n\t\t    @description Recursively iterates through parent nodes until an object with the given prototype is found\r\n\t\t    @param {string} value The value to search for within this key\r\n\t\t    @param {EL} node Entry point to traversing the chain\r\n\t\t    @param {number} attempt Recursion loop\r\n\t\t    @returns {CONTAINER} The parent container\r\n\r\n\t        @todo There needs to be some sort of recursion for getPrototypeOf(node)\r\n\t        @todo Check if this can be swapped out for isPrototypeOf()\r\n\t        @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/isPrototypeOf\r\n\r\n\t        @throws Will throw an error if recursion attempt exceeds limit\r\n\t\t*/\r\n\tgetProtoTypeByClass(value, node = this.node, attempt = 0) {\r\n\t\tif (node === document.body) { // || typeof node === 'undefined'\r\n\t\t\treturn null; // You have reached the top of the chain\r\n\t\t}\r\n\t\tlet depth = attempt + 1;\r\n\t\t//attempt++;\r\n\t\ttry {\r\n\t\t\t//console.log('Searching for __proto__.__proto__.constructor.name: ' + value + '(' + attempt + ')', node);\r\n\t\t\tif (depth < 100) {\r\n\t\t\t\t//if (node.__proto__.__proto__.__proto__.constructor.name === value.toString() || node.__proto__.__proto__.constructor.name === value.toString() || node.__proto__.constructor.name === value.toString()) {\r\n\t\t\t\tif (Reflect.getPrototypeOf(Reflect.getPrototypeOf(Reflect.getPrototypeOf(node))).constructor.name === value.toString() || Reflect.getPrototypeOf(Reflect.getPrototypeOf(node)).constructor.name === value.toString() || Reflect.getPrototypeOf(node).constructor.name === value.toString()) {\r\n\t\t\t\t\t//console.log('Found container(' + value.toString() + ')...', node);\r\n\t\t\t\t\treturn node;\r\n\t\t\t\t} //else {\r\n\t\t\t\treturn this.getProtoTypeByClass(value, node.node, depth); // attempt++\r\n\t\t\t\t//}\r\n\t\t\t} //else {\r\n\t\t\tthrow new RecursionLimitError(this.className + '.getProtoTypeByClass(): Exceeded attempt limit. (Attempt ' + attempt + ')');\r\n\t\t\t//}\r\n\t\t} catch (e) {\r\n\t\t\t//TypeError: this.getProtoTypeByClass is not a function\r\n\t\t\tif (e.name === 'TypeError') {\r\n\t\t\t\t// Cannot read property '__proto__' of undefined\r\n\t\t\t\t/** \r\n\t\t\t\t    Show warning if enabled\r\n\t\t\t\t    @todo There should be a global for this \r\n\t\t\t\t\r\n\t\t\t\tif (1 === 0) {\r\n\t\t\t\t\tconsole.warn('A TypeError was caught while attempting to find proto \"' + value + '\"\\n');\r\n\t\t\t\t}*/\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log('An unknown error occurred');\r\n\t\t\t\tthrow e;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t\t    Retrieves the container (if exists) and sets it\r\n\t        @returns {void}\r\n\t\t*/\r\n\tsetContainer() {\r\n\t\tthis.container = this.getProtoTypeByClass('CONTAINER');\r\n\t}\r\n\t/**\r\n\t    Sets the parent container for this Nav Header if it does not exist,\r\n\t    then returns it or null\r\n\t    @returns {CONTAINER} The parent container for this container\r\n\t*/\r\n\tgetContainer() {\r\n\t\ttry {\r\n\t\t\tif (typeof this.container === 'undefined') { // || this.container === null\r\n\t\t\t\tthis.container = this.getProtoTypeByClass('CONTAINER');\r\n\t\t\t\treturn this.container;\r\n\t\t\t} //else {\r\n\t\t\treturn this.container;\r\n\t\t\t//}\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tthrow new MissingContainerError(this.className + ' is unable to find a parent Container');\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t    Returns the MAIN container\r\n\t    @returns {CONTAINER} This EL's parent container\r\n\t*/\r\n\tgetMainContainer() {\r\n\t\tif (typeof this.container !== 'undefined') {\r\n\t\t\ttry {\r\n\t\t\t\treturn this.container.getMainContainer();\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.warn('EL{' + this.className + '} Unable to retrieve Container', e);\r\n\t\t\t\t//throw e;\r\n\t\t\t}\r\n\t\t}\r\n\t\t/*if (this.getContainer() !== null) {\r\n\t\t    return this.getContainer().getMainContainer();\r\n\t\t} else {\r\n\t\t    console.log(this.className + ' does not have a parent Container');\r\n\t\t    return null;\r\n\t\t}*/\r\n\t}\r\n\t/**\r\n\t\t    Creates a textarea input and populates with this element's contents\r\n\t        @returns {void}\r\n\t\t */\r\n\tedit() {\r\n\t\ttry {\r\n\t\t\t//console.log(this.className + '.edit()', this);\r\n\t\t\tlet footer = this.getMainContainer().stickyFooter;\r\n\t\t\tthis.addClass('edit');\r\n\t\t\tthis.status = STATUS.LOCKED;\r\n\t\t\tthis.editor = new EL(footer, 'TEXTAREA', new MODEL(new ATTRIBUTES({\r\n\t\t\t\t'value': this.el.innerHTML\r\n\t\t\t})), this.el.innerHTML);\r\n\t\t\tthis.editor.el.onkeyup = function() {\r\n\t\t\t\tthis.el.innerHTML = this.editor.el.value;\r\n\t\t\t}.bind(this);\r\n\t\t\tthis.editor.el.onblur = function() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tthis.getContainer().data[this.className.toLowerCase()] = this.editor.el.value;\r\n\t\t\t\t\tthis.editor.destroy();\r\n\t\t\t\t\tthis.removeClass('edit');\r\n\t\t\t\t\tif (this.getContainer().quickSave(true)) {\r\n\t\t\t\t\t\tthis.getMainContainer().stickyFooter.hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tthrow e;\r\n\t\t\t\t}\r\n\t\t\t}.bind(this);\r\n\t\t\tthis.editor.el.focus();\r\n\t\t\tfooter.show();\r\n\t\t\tevent.stopPropagation();\r\n\t\t} catch (ee) {\r\n\t\t\tconsole.log(ee);\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t    Calls the edit method for this.el on double click\r\n\t    @todo Consider applying this method from the caller\r\n\t    @returns {void}\r\n\t*/\r\n\tenableEdit() {\r\n\t\ttry {\r\n\t\t\tif (this.getMainContainer().getDev()) {\r\n\t\t\t\tthis.el.ondblclick = this.edit.bind(this);\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log('EL{' + this.className + '}.getMainContainer() error', this);\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t\t    Acts like a switch statement, performing actions from the given list of callbacks.\r\n\t\t    This is used because constructor functions persist across the inheritance chain,\r\n\t\t    whereas an actual SWITCH statement would be overridden on each inheritted class.\r\n\t\t    @see https://stackoverflow.com/a/35769291/722785\r\n\t    \r\n\t\t    @param {MODEL} model The object model for the element to be created\r\n\t\t    @returns {EL} Constructed Element\r\n\t\t */\r\n\tcreate(model) {\r\n\t\tlet result = null;\r\n\t\ttry {\r\n\t\t\tthis.callbacks[model.className].forEach((fn) => {\r\n\t\t\t\tresult = fn(model);\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(0, this.className + '.create(): No constructor exists for className \"' + model.className + '\"', e);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\t/**\r\n\t\t    Add a case to the creator EL.create();\r\n\t\t    @param {string} className The Icarus Class name that this callback is meant to construct\r\n\t\t    @param {Function} fn Function to call (should accept model)\r\n\t        @returns {void}\r\n\t\t*/\r\n\taddCase(className, fn) {\r\n\t\tthis.callbacks[className] = [];\r\n\t\tthis.callbacks[className].push(fn);\r\n\t}\r\n\t/**\r\n\t\t    Combines the given model with this model, overriding initial values\r\n\t\t    with given ones\r\n\t\t    @param {MODEL} model A generic MODEL object\r\n\t        @returns {void}\r\n\t\t */\r\n\tmerge(model) {\r\n\t\tif (typeof model === 'object') {\r\n\t\t\tfor (let prop in model) {\r\n\t\t\t\tif (prop === 'attributes') {\r\n\t\t\t\t\tthis.processAttributes(model.attributes);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis[prop] = model[prop];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconsole.log('EL.merge(): Given model is not a valid object');\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t    Iterates through attributes and sets accordingly\r\n\t    If attribute is 'innerHTML', the element's innerHTML is modified\r\n\t    @param {object} attributes A set of key/value pairs\r\n\t    @returns {void}\r\n\t */\r\n\tprocessAttributes(attributes) {\r\n\t\tfor (let attr in attributes) {\r\n\t\t\tif (attr !== 'innerHTML') {\r\n\t\t\t\tthis.el.setAttribute(attr, attributes[attr]);\r\n\t\t\t} else if (attr === 'innerHTML') {\r\n\t\t\t\tthis.el.innerHTML = attributes[attr];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t    Opens the ELEMENT up for editing.  This should create a link\r\n\t    between the object on the server and its client side representation\r\n\t    @returns {EL} This EL\r\n\t*/\r\n\topen() {\r\n\t\tthis.status = STATUS.OPEN;\r\n\t\t//this.el.setAttribute('data-status', 'open');\r\n\t\ttry {\r\n\t\t\tthis.node.open();\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log('Unable to open parent element(' + this.element + ')', e);\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\t/**\r\n\t    Closes the EL up for editing.  <br>This should create a link\r\n\t    between the object on the server and its client side representation\r\n\t    and update accordingly\r\n\t    @returns {EL} This EL\r\n\t*/\r\n\tclose() {\r\n\t\tthis.status = STATUS.CLOSED;\r\n\t\t//this.el.setAttribute('data-status', 'closed');\r\n\t\treturn this;\r\n\t}\r\n\t/**\r\n\t    Empties contents of node element\r\n\t    @returns {EL} This EL\r\n\t*/\r\n\tempty() {\r\n\t\twhile (this.el.firstChild) {\r\n\t\t\tthis.el.removeChild(this.el.firstChild);\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\t/**\r\n\t    Removes this element from the DOM\r\n\t    @param {number} delay Millisecond delay\r\n\t    @returns {EL} This EL\r\n\t*/\r\n\tdestroy(delay = 300) {\r\n\t\ttry {\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tthis.el.parentNode.removeChild(this.el);\r\n\t\t\t}.bind(this), delay);\r\n\t\t\ttry {\r\n\t\t\t\tlet i = this.node.children.indexOf(this);\r\n\t\t\t\tthis.node.children.splice(i, 1);\r\n\t\t\t} catch (ee) {\r\n\t\t\t\tconsole.log('Unable to remove ' + this.element + ' from node.children');\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log('Unable to destroy this ' + this.element, e);\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\t/**\r\n\t    Override this element's class with the given value\r\n\t    @param {string} className A class\r\n\t    @returns {EL} Returns this element for chaining purposes\r\n\t */\r\n\tsetClass(className) {\r\n\t\tthis.el.className = className;\r\n\t\tthis.attributes.class = className;\r\n\t\treturn this;\r\n\t}\r\n\t/**\r\n\t    Adds the given class name to the element's list of classes\r\n\t    @param {string} className the class to be appended\r\n\t    @returns {EL} Returns this element for chaining purposes\r\n\t*/\r\n\taddClass(className) {\r\n\t\t$(this.el).addClass(className);\r\n\t\tlet prevClass = this.attributes.class || '';\r\n\t\t//this.attributes['class'] = prevClass += ' ' + className;\r\n\t\t//this.attributes.class = prevClass += ' ' + className;\r\n\t\tthis.attributes.class = prevClass + ' ' + className;\r\n\t\treturn this;\r\n\t}\r\n\t/**\r\n\t    Revoves the given class name from the element's list of classes\r\n\t    @param {string} className the class to be removed\r\n\t    @returns {EL} Returns this element for chaining purposes\r\n\t*/\r\n\tremoveClass(className) {\r\n\t\t$(this.el).removeClass(className);\r\n\t\tthis.attributes.set('class', this.attributes.get('class').replace(className, ''));\r\n\t\treturn this;\r\n\t}\r\n\t/**\r\n\t    Shows this Element\r\n\t    @returns {EL} This EL\r\n\t*/\r\n\tshow() {\r\n\t\tthis.el.style.display = 'block';\r\n\t\treturn this;\r\n\t}\r\n\t/**\r\n\t    Hides this Element\r\n\t    @returns {EL} This EL\r\n\t*/\r\n\thide() {\r\n\t\tthis.el.style.display = 'none';\r\n\t\treturn this;\r\n\t}\r\n\t/**\r\n\t    Adds 'active' to this element's classes\r\n\t    @returns {EL} This EL\r\n\t */\r\n\tactivate() {\r\n\t\t$(this.el).addClass('active');\r\n\t\treturn this;\r\n\t}\r\n\t/**\r\n\t    Removes 'active' from this element's classes\r\n\t    @returns {EL} This EL\r\n\t */\r\n\tdeactivate() {\r\n\t\t$(this.el).removeClass('active');\r\n\t\treturn this;\r\n\t}\r\n\t/**\r\n\t    Toggles the 'active' class on this element\r\n\t    @param {string} className Optionally toggle this class\r\n\t    @returns {EL} This EL\r\n\t*/\r\n\ttoggle(className) {\r\n\t\tif (className) {\r\n\t\t\t$(this.el).toggleClass(className); // || 'active'\r\n\t\t} else {\r\n\t\t\t$(this.el).toggle();\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\t/**\r\n\t    Create all children elements in the order that\r\n\t    they were pushed into provided array\r\n\t    @param {array} children Array of children object models to be constructed\r\n\t    @returns {EL} This EL\r\n\t*/\r\n\tpopulate(children) {\r\n\t\tif (children) {\r\n\t\t\t//console.log(this.className + '.populate(' + children.length + ');');\r\n\t\t\ttry {\r\n\t\t\t\t//let denom = children.length;\r\n\t\t\t\t//let progress = 0; // 0 to 100      \r\n\t\t\t\tfor (let c = 0; c < children.length; c++) {\r\n\t\t\t\t\t//progress = Math.round((c + 1) / denom * 100);\r\n\t\t\t\t\t//console.log(progress, this.className+'.populate('+(c+1)+'/'+denom+')');\r\n\t\t\t\t\tthis.create(children[c]);\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\t/**\r\n\t    Sets the inner HTML of this element\r\n\t    @param {string} innerHTML Html string to be parsed into HTML\r\n\t    @returns {EL} This EL\r\n\t*/\r\n\tsetInnerHTML(innerHTML = '') {\r\n\t\tthis.el.innerHTML = innerHTML;\r\n\t\treturn this;\r\n\t}\r\n\t/**\r\n\t    Scrolls page to the top of this element\r\n\t    @param {number} speed Millisecond duration\r\n\t    @returns {EL} This EL\r\n\t*/\r\n\tscrollTo(speed = 1000) {\r\n\t\tconsole.log('Scrolling to this element at ' + parseInt($(this.el).offset().top));\r\n\t\t$(this.node.el).animate({\r\n\t\t\tscrollTop: parseInt($(this.el).offset().top)\r\n\t\t}, speed);\r\n\t\treturn this;\r\n\t}\r\n}\r\nexport { MODEL, ATTRIBUTES };"]}