<?xml version="1.0" encoding="utf-8"?>
<configuration>
  
  <configSections>
    <!-- For more information on Entity Framework configuration, visit http://go.microsoft.com/fwlink/?LinkID=237468 -->
    <section name="entityFramework" type="System.Data.Entity.Internal.ConfigFile.EntityFrameworkSection, EntityFramework, Version=6.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" requirePermission="false" />
  </configSections>

  <!-- 
        This section is encrypted when the application is first launched.
        The encryption key is generated on the server, so the encrypted data is specific to that machine.
        
        Known Issues:
        
        ENTITY > CODE FIRST APPROACH:
        When performing Entity updates, (  add-migration MyMigration   OR    update-database  )
        the ACTUAL connection string must exist.
        
        This is easily resolved by performing a complete clean/publish of the application.
        Before running the application, perform all necessary Entity migrations
        
        Once the application has been ran, the connection string will be encrypted, and Entity will not be able to 
        perform any migations.
        
        <connectionStrings configProtectionProvider="DataProtectionConfigurationProvider"></connectionStrings>
        
        REMOVE THIS BEFORE PUBLISHING
        <connectionStrings>
          <add
            name="DefaultConnection"
            providerName="System.Data.SqlClient"
            connectionString="Data Source=127.0.0.1;Initial Catalog=ICARUS;Integrated Security=False;User Id=icarus@spoonmedia.ca;Password=sr47HzUlIAD1nso6KPcX;MultipleActiveResultSets=True"
            />
        </connectionStrings>
        
        
        <system.net configProtectionProvider="DataProtectionConfigurationProvider"></system.net>
        
  -->
  <connectionStrings configProtectionProvider="DataProtectionConfigurationProvider">
    <EncryptedData>
      <CipherData>
        <CipherValue>AQAAANCMnd8BFdERjHoAwE/Cl+sBAAAAQ52xm8nibUeo+kbZsfDgvAQAAAACAAAAAAAQZgAAAAEAACAAAAA/xoAgp+W8OJIeMx8GLpSiv4udhzhxTXALt+XGqwZM4gAAAAAOgAAAAAIAACAAAAD5Z4kwyo/KVfTOo/h1Ewc9t+X2faXPyaz3EZibAuXRlVACAAAH3NZyg9UDi4M8Sg+uZJX1AuF1ndMrWerosdj7PCGvEKhOLr0lNWZKzw1DbuUyCbIwbExkVnhjPyL0MhhCwjIFUDBQ2zrh0x9yaqrIypKE/TOwyngLlnmXULiClB1dStywg/I7fvh77AYXL3AJ85Wtj2upSiZV5Qkt/XZMOgT9CUedgDFeVksGnPiMXDk/3dVIM3mvOB0mcBEnIsgF3dcSzkN3gB76afUmx9RAYJ4KM76SFW41+9pfRL43ENmlliv+g3lmEn6vZvP2lz22BFbS7J4PAtwmXYUHSS6ovdezf7a3RmxWx7xABJTfdCdNeEjF9IxrVs/r/CLsMYk8MzaPOfbdhmTZ5060+K+SVxIqRDORQtNsIyA5TVnXf4S5eNx5wz4CXMm6y679YjwobUYbFMei84qNA+MZj+UcfTD3oI8X3hFz7X+tPJ8iqetsNkCiTOAsz38OmHcVTLf/AK7O0Ied6a8n/yBWw/LtAJ6zH/jUSb/4+VjxRAP/SV6X3pJk6a9DCHE+PFk8li9jnBGAHXpjdbIDCim/YEwmN13b4rD2SNL88pkB6e/+yYtGvGD8dfTihxZey/9F3asadwvXqE0cyem8UfGbTuDgvNqB2nSRVhLiVuDo+4xU/lFkEFQk4vECJIW3/6dMQv0BatOVaGftD0dJX0X7JHQKX96DlpXJJPE82OFYY6oubmHbjE1oxPL5F3XcrJU/mryER1ku9lcg6cKWFCppYsBsOefvv/TmPdd0RYz3L5/b+pr0TqfuCREJeIngnS7Oz6MMSXw6QAAAAI7q2TlhSFS/JNc7KkIpCA0ghVZrw5cKdsA6WsTmhsg2wxYLtVkhmUz5pHFVwgmH+x2SW5lRIZDpsElu1y93YvQ=</CipherValue>
      </CipherData>
    </EncryptedData>
  </connectionStrings>
  

  <appSettings>
    <add key="webpages:Version" value="3.0.0.0" />
    <add key="webpages:Enabled" value="false" />
    <add key="ClientValidationEnabled" value="true" />
    <add key="UnobtrusiveJavaScriptEnabled" value="true" />  
  </appSettings>
  
  <system.web>
    
    <!-- Show Custom Errors -->
    <customErrors mode="Off" />
    
    <!-- See p.160 for caching details -->
    <caching>
      <outputCacheSettings>
        <outputCacheProfiles>
          <add name="Cache10Min" duration="600" varyByParam="none" />
        </outputCacheProfiles>
      </outputCacheSettings>
    </caching>

    <!-- Redirect to Login as required -->
    <authentication mode="Forms">
      <!--<forms loginUrl="~/Account/Login" timeout="2880" />-->
      <forms loginUrl="~/?login=1" timeout="2880" />
    </authentication>

    <compilation debug="true">
      <!-- http://stackoverflow.com/questions/6496223/compilation-error-in-net-4-0-web-config-linq-not-found -->
      <assemblies>
        <add assembly="System.Core, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089" />
      </assemblies>
    </compilation>
    
    <httpRuntime targetFramework="4.5" />
    <httpModules>
      <add name="ApplicationInsightsWebTracking" type="Microsoft.ApplicationInsights.Web.ApplicationInsightsHttpModule, Microsoft.AI.Web" />
    </httpModules>
    
  </system.web>
  
  <system.webServer>
    <modules runAllManagedModulesForAllRequests="true" />

    
    <!--http://stackoverflow.com/questions/20731719/the-web-server-is-configured-to-not-list-the-contents-of-this-directory-asp-net-->
    <validation validateIntegratedModeConfiguration="false" />
  </system.webServer>
  
  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Owin.Security" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="0.0.0.0-3.0.1.0" newVersion="3.0.1.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Owin.Security.OAuth" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="0.0.0.0-3.0.1.0" newVersion="3.0.1.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Owin.Security.Cookies" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="0.0.0.0-3.0.1.0" newVersion="3.0.1.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Owin" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="0.0.0.0-3.0.1.0" newVersion="3.0.1.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Newtonsoft.Json" culture="neutral" publicKeyToken="30ad4fe6b2a6aeed" />
        <bindingRedirect oldVersion="0.0.0.0-6.0.0.0" newVersion="6.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Optimization" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="1.0.0.0-1.1.0.0" newVersion="1.1.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="WebGrease" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="0.0.0.0-1.5.2.14234" newVersion="1.5.2.14234" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Helpers" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="1.0.0.0-3.0.0.0" newVersion="3.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Mvc" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="1.0.0.0-5.2.3.0" newVersion="5.2.3.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.WebPages" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="1.0.0.0-3.0.0.0" newVersion="3.0.0.0" />
      </dependentAssembly>
    </assemblyBinding>
  </runtime>
  
  <entityFramework>
    <defaultConnectionFactory type="System.Data.Entity.Infrastructure.LocalDbConnectionFactory, EntityFramework">
      <parameters>
        <parameter value="mssqllocaldb" />
      </parameters>
    </defaultConnectionFactory>
    <providers>
      <provider invariantName="System.Data.SqlClient" type="System.Data.Entity.SqlServer.SqlProviderServices, EntityFramework.SqlServer" />
    </providers>
  </entityFramework>
  
  <system.codedom>
    <compilers>
      <compiler language="c#;cs;csharp" extension=".cs" type="Microsoft.CodeDom.Providers.DotNetCompilerPlatform.CSharpCodeProvider, Microsoft.CodeDom.Providers.DotNetCompilerPlatform, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" warningLevel="4" compilerOptions="/langversion:6 /nowarn:1659;1699;1701" />
      <compiler language="vb;vbs;visualbasic;vbscript" extension=".vb" type="Microsoft.CodeDom.Providers.DotNetCompilerPlatform.VBCodeProvider, Microsoft.CodeDom.Providers.DotNetCompilerPlatform, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" warningLevel="4" compilerOptions="/langversion:14 /nowarn:41008 /define:_MYTYPE=\&quot;Web\&quot; /optionInfer+" />
    </compilers>
  </system.codedom>

  <system.net>
  <!-- xdt:Transform="Replace"-->
    <mailSettings>
      <!--<smtp configProtectionProvider="DataProtectionConfigurationProvider">-->
      <smtp configProtectionProvider="DataProtectionConfigurationProvider">
          <EncryptedData>
              <CipherData>
                  <CipherValue>AQAAANCMnd8BFdERjHoAwE/Cl+sBAAAAavEgnubUwUuDpd9CTtNTdwQAAAACAAAAAAAQZgAAAAEAACAAAAAt+o7OmpNf7iwlGhVq8+jR8agkHi1XWevfbeiD1kc/agAAAAAOgAAAAAIAACAAAABzZfMFWPMEUfle/29OXfbVNE04FijHYwmCfS49Ck8uG1ABAAC9JveLEpF6pVPLKTW/rxfLEI+WAtpJaD85QSoIMxufm+gSVNlzACa2srCSeduatH6J50Emg4MLNT/+imfNQ8L75eCZl4JjHBU7wrSpk3G/rH9B2Par+MlSOUx+1h6B2fTVxlCkCtt/wiB35luWJ070iJJQmIH7htxw1Ej/A+bdFZPYq2W8tA64fXnGz+FD4/QfgnWawbIhwf3sho4mK9oXCLVBEDs3wmbraSEbIBEEiClhLOQh5YEIHnHAD9WOFZqkHw7Prfruhmdfy41yFlrbUylgWePRzcmIqgmgnoql9lzkbb26qR/DD0egXrch0f944RDDsyABYJMhXp1HBovFKgXETkN8GrwgE2Zg6LIM8eLWkvtmZVl1kb8oaw5u4bQ4/9Efel3qMfro5ML4Pxs2uB5+bDjwmVA0pzmLorkotxvJHj9P+fUXKl6c+qPBw39AAAAA8fGDq8cUIgvtuezCMjPbnhOy0rUz8zw36c7PUHV4y8dX5iUP8ELSBhg4QGLS6eIfpfzyBnT67k/VOmwi8zXB/Q==</CipherValue>
              </CipherData>
          </EncryptedData>
      </smtp>
    </mailSettings>
  </system.net>
  
  
</configuration>